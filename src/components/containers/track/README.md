# 思路

## 缩放

```ts
/**
 * 绘制时间刻度的默认总长度为视频长度的 1.5 倍
 * 比如某个视频为 10s
 * 那么最大长度就是 15s
 *
 * 当缩放到最小时，最大长度为当前总长度的 1.5 倍
 * 当缩放到最大时基础单位为 f（帧）
 *
 * 当缩放到最大时一帧的宽度为 60px
 *
 * 假如某个 30 帧，长度为 6s.20f 的视频
 * 那么总长度就是 10s
 *
 * 假如初始 timeline 的宽度为 600px
 *
 * frameCount = 10s * 30f = 300f，那么初始状态下 1 帧的宽度为 600px / 300f =  2px
 * 那么缩放到最大和最小时的倍数为 60px / 2px = 30
 *
 * 放大倍数随 scale 的增大而增大
 *
 * 备注：canvas 的宽度是有上限的，因此如果宽度太长时需要拼接多个 canvas
 */
function initEasingFunction()
```

## 刻度的显示和计算

```ts
/**
 * 带显示单位的长刻度计算思路
 *
 * 假如宽度为 600px，初始状态可编辑区域为10分钟，也就是 10*60*30 = 18000f
 * 那么每f的宽度为 600/18000 = 1/30
 *
 * 刻度的最小间距范围为 12px
 *
 * 长刻度（会把显示数值显示出来）之间的距离至少为（12*10）px，一旦某个等级满足 120 就使用这个等级来进行计算
 * 然后再把这个等级进行 10 等分
 *
 * 小时级：1h 2h 3h 4h ... 以此类推
 * 分钟级：1m 2m 5m 10m 20m 30m
 * 秒级：30s 20s 10s 5s 2s 1s
 * 帧级：
 * 15f 10f
 * 5f（5 等分，当每帧宽度大于 60px 的时候转为 2f 级）
 * 2f（2 等分）
 *
 * 因此从最小开始计算，获取刚好满足 120px 的等级
 */
function getIntervalConfig()
```
